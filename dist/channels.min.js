!function e(t,n,r){function a(s,i){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!i&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return a(n?n:e)},u,u.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)a(r[s]);return a}({1:[function(e,t){"use strict";t.exports=e("./src/main")},{"./src/main":19}],2:[function(e,t){"use strict";var n=e("lodash.template");t.exports={channels:n("<ul data-channels-list></ul>"),CSS:{channels:'.player-channels[data-channels]{position:absolute;width:100%;height:100%;top:0;left:0;z-index:1;-webkit-transition:all .6s;-webkit-transition-delay:ease;-moz-transition:all .6s ease;-o-transition:all .6s ease;transition:all .6s ease}.player-channels[data-channels].channels-hide{filter:alpha(Opacity=0);opacity:0;left:-100%}.player-channels[data-channels] ul[data-channels-list]{margin:0;width:100%;height:100%;padding:2.5% 2.5% 50px;list-style-type:none;text-align:left}.player-channels[data-channels] ul[data-channels-list] li[data-channel-choice]{display:inline-block;width:23%;height:22.5%;margin:1%}.player-channels[data-channels] ul[data-channels-list] li[data-channel-choice] a{font-family:Player;font-weight:400;font-style:normal;line-height:1;letter-spacing:0;color:#fff;speak:none;display:block;width:100%;height:100%;border:2px solid #fff;background-repeat:no-repeat;background-size:cover;text-align:center;position:relative;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-border-radius:3px;-moz-border-radius:3px;-ms-border-radius:3px;-o-border-radius:3px;border-radius:3px}.player-channels[data-channels] ul[data-channels-list] li[data-channel-choice] a span[data-channel-title]{display:none;position:absolute;width:100%;bottom:0;left:0;background-color:#000;filter:alpha(Opacity=80);opacity:.8;color:#fff;font-family:Arial,Helvetica,sans-serif;font-size:.4em;text-align:center;padding:2% 0}.player-channels[data-channels] ul[data-channels-list] li[data-channel-choice] a:hover{-webkit-box-shadow:#fff 0 0 25px,#fff 0 0 3px 1px inset;-moz-box-shadow:#fff 0 0 25px,#fff 0 0 3px 1px inset;-ms-box-shadow:#fff 0 0 25px,#fff 0 0 3px 1px inset;-o-box-shadow:#fff 0 0 25px,#fff 0 0 3px 1px inset;box-shadow:#fff 0 0 25px,#fff 0 0 3px 1px inset}.player-channels[data-channels] ul[data-channels-list] li[data-channel-choice] a:hover span[data-channel-title]{display:block}.player-channels[data-channels] ul[data-channels-list] li[data-channel-choice] a.active{border-color:#202020;cursor:default}.player-channels[data-channels] ul[data-channels-list] li[data-channel-choice] a.active span[data-channel-title]{display:block}.player-channels[data-channels] ul[data-channels-list] li[data-channel-choice] a.active:after{content:"\\e001";position:absolute;filter:alpha(Opacity=80);opacity:.8;left:40%;padding-top:12%}.player-channels[data-channels] ul[data-channels-list] li[data-channel-choice] a.active:hover{-webkit-box-shadow:transparent 0 0 0,transparent 0 0 0 0 inset;-moz-box-shadow:transparent 0 0 0,transparent 0 0 0 0 inset;-ms-box-shadow:transparent 0 0 0,transparent 0 0 0 0 inset;-o-box-shadow:transparent 0 0 0,transparent 0 0 0 0 inset;box-shadow:transparent 0 0 0,transparent 0 0 0 0 inset}'}}},{"lodash.template":3}],3:[function(e,t){function n(e){return"\\"+_[e]}function r(e,t,n,r){return"undefined"!=typeof e&&j.call(r,n)?e:t}function a(e,t,n){var r=p(t);if(!n)return i(t,e,r);for(var a=-1,o=r.length;++a<o;){var s=r[a],l=e[s],c=n(l,t[s],s,e,t);(c===c?c===l:l!==l)&&("undefined"!=typeof l||s in e)||(e[s]=c)}return e}function o(e,t,o){var i=d.imports._.templateSettings||d;o&&u(e,t,o)&&(t=o=null),e=l(e),t=a(a({},o||t),i,r);var _,w,j=a(a({},t.imports),i.imports,r),k=p(j),O=c(j,k),C=0,E=t.interpolate||m,$="__p += '",S=RegExp((t.escape||m).source+"|"+E.source+"|"+(E===f?b:m).source+"|"+(t.evaluate||m).source+"|$","g"),R="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";e.replace(S,function(t,r,a,o,s,i){return a||(a=o),$+=e.slice(C,i).replace(x,n),r&&(_=!0,$+="' +\n__e("+r+") +\n'"),s&&(w=!0,$+="';\n"+s+";\n__p += '"),a&&($+="' +\n((__t = ("+a+")) == null ? '' : __t) +\n'"),C=i+t.length,t}),$+="';\n";var P=t.variable;P||($="with (obj) {\n"+$+"\n}\n"),$=(w?$.replace(g,""):$).replace(y,"$1").replace(v,"$1;"),$="function("+(P||"obj")+") {\n"+(P?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(_?", __e = _.escape":"")+(w?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+$+"return __p\n}";var A=s(function(){return Function(k,R+"return "+$).apply(void 0,O)});if(A.source=$,h(A))throw A;return A}function s(e){try{return e()}catch(t){return h(t)?t:Error(t)}}var i=e("lodash._basecopy"),l=e("lodash._basetostring"),c=e("lodash._basevalues"),u=e("lodash._isiterateecall"),h=e("lodash.iserror"),p=e("lodash.keys"),f=e("lodash.reinterpolate"),d=e("lodash.templatesettings"),g=/\b__p \+= '';/g,y=/\b(__p \+=) '' \+/g,v=/(__e\(.*?\)|\b__t\)) \+\n'';/g,b=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,m=/($^)/,x=/['\n\r\u2028\u2029\\]/g,_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},w=Object.prototype,j=w.hasOwnProperty;t.exports=o},{"lodash._basecopy":4,"lodash._basetostring":5,"lodash._basevalues":6,"lodash._isiterateecall":7,"lodash.iserror":8,"lodash.keys":9,"lodash.reinterpolate":13,"lodash.templatesettings":15}],4:[function(e,t){function n(e,t,n){n||(n=t,t={});for(var r=-1,a=n.length;++r<a;){var o=n[r];t[o]=e[o]}return t}t.exports=n},{}],5:[function(e,t){function n(e){return"string"==typeof e?e:null==e?"":e+""}t.exports=n},{}],6:[function(e,t){function n(e,t){for(var n=-1,r=t.length,a=Array(r);++n<r;)a[n]=e[t[n]];return a}t.exports=n},{}],7:[function(e,t){function n(e,t){return e=+e,t=null==t?s:t,e>-1&&e%1==0&&t>e}function r(e,t,r){if(!o(r))return!1;var s=typeof t;if("number"==s)var i=r.length,l=a(i)&&n(t,i);else l="string"==s&&t in r;if(l){var c=r[t];return e===e?e===c:c!==c}return!1}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&s>=e}function o(e){var t=typeof e;return"function"==t||e&&"object"==t||!1}var s=Math.pow(2,53)-1;t.exports=r},{}],8:[function(e,t){function n(e){return e&&"object"==typeof e||!1}function r(e){return n(e)&&"string"==typeof e.message&&s.call(e)==a||!1}var a="[object Error]",o=Object.prototype,s=o.toString;t.exports=r},{}],9:[function(e,t){function n(e,t){return e=+e,t=null==t?d:t,e>-1&&e%1==0&&t>e}function r(e){return"number"==typeof e&&e>-1&&e%1==0&&d>=e}function a(e){for(var t=s(e),a=t.length,o=a&&e.length,c=o&&r(o)&&(l(e)||g.nonEnumArgs&&i(e)),u=-1,p=[];++u<a;){var f=t[u];(c&&n(f,o)||h.call(e,f))&&p.push(f)}return p}function o(e){var t=typeof e;return"function"==t||e&&"object"==t||!1}function s(e){if(null==e)return[];o(e)||(e=Object(e));var t=e.length;t=t&&r(t)&&(l(e)||g.nonEnumArgs&&i(e))&&t||0;for(var a=e.constructor,s=-1,c="function"==typeof a&&a.prototype===e,u=Array(t),p=t>0;++s<t;)u[s]=s+"";for(var f in e)p&&n(f,t)||"constructor"==f&&(c||!h.call(e,f))||u.push(f);return u}var i=e("lodash.isarguments"),l=e("lodash.isarray"),c=e("lodash.isnative"),u=Object.prototype,h=u.hasOwnProperty,p=u.propertyIsEnumerable,f=c(f=Object.keys)&&f,d=Math.pow(2,53)-1,g={};!function(){try{g.nonEnumArgs=!p.call(arguments,1)}catch(e){g.nonEnumArgs=!0}}(0,0);var y=f?function(e){if(e)var t=e.constructor,n=e.length;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&n&&r(n)?a(e):o(e)?f(e):[]}:a;t.exports=y},{"lodash.isarguments":10,"lodash.isarray":11,"lodash.isnative":12}],10:[function(e,t){function n(e){return e&&"object"==typeof e||!1}function r(e){return"number"==typeof e&&e>-1&&e%1==0&&l>=e}function a(e){var t=n(e)?e.length:void 0;return r(t)&&i.call(e)==o||!1}var o="[object Arguments]",s=Object.prototype,i=s.toString,l=Math.pow(2,53)-1;t.exports=a},{}],11:[function(e,t){function n(e){return"string"==typeof e?e:null==e?"":e+""}function r(e){return e&&"object"==typeof e||!1}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&v>=e}function o(e){return null==e?!1:d.call(e)==l?g.test(f.call(e)):r(e)&&c.test(e)||!1}function s(e){return e=n(e),e&&h.test(e)?e.replace(u,"\\$&"):e}var i="[object Array]",l="[object Function]",c=/^\[object .+?Constructor\]$/,u=/[.*+?^${}()|[\]\/\\]/g,h=RegExp(u.source),p=Object.prototype,f=Function.prototype.toString,d=p.toString,g=RegExp("^"+s(d).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),y=o(y=Array.isArray)&&y,v=Math.pow(2,53)-1,b=y||function(e){return r(e)&&a(e.length)&&d.call(e)==i||!1};t.exports=b},{}],12:[function(e,t){function n(e){return"string"==typeof e?e:null==e?"":e+""}function r(e){return e&&"object"==typeof e||!1}function a(e){return null==e?!1:p.call(e)==s?f.test(h.call(e)):r(e)&&i.test(e)||!1}function o(e){return e=n(e),e&&c.test(e)?e.replace(l,"\\$&"):e}var s="[object Function]",i=/^\[object .+?Constructor\]$/,l=/[.*+?^${}()|[\]\/\\]/g,c=RegExp(l.source),u=Object.prototype,h=Function.prototype.toString,p=u.toString,f=RegExp("^"+o(p).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=a},{}],13:[function(e,t){t.exports=e("lodash._reinterpolate")},{"lodash._reinterpolate":14}],14:[function(e,t){var n=/<%=([\s\S]+?)%>/g;t.exports=n},{}],15:[function(e,t){var n=e("lodash._reinterpolate"),r=e("lodash.escape"),a=/<%-([\s\S]+?)%>/g,o=/<%([\s\S]+?)%>/g,s={escape:a,evaluate:o,interpolate:n,variable:"",imports:{_:{escape:r}}};t.exports=s},{"lodash._reinterpolate":16,"lodash.escape":17}],16:[function(e,t){t.exports=e(14)},{"/media/truecrypt1/www/javascript/clappr-channels/node_modules/lodash.template/node_modules/lodash.reinterpolate/node_modules/lodash._reinterpolate/index.js":14}],17:[function(e,t){function n(e){return i[e]}function r(e){return e=a(e),e&&s.test(e)?e.replace(o,n):e}var a=e("lodash._basetostring"),o=/[&<>"'`]/g,s=RegExp(o.source),i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"};t.exports=r},{"lodash._basetostring":5}],18:[function(e,t){t.exports={name:"channels",description:"A plugin for Clappr that adds multiple sources to switch between them from the player.",version:"0.0.1",repository:"irongomme/clappr-channels",author:{name:"Jérôme DENIS",email:"irongomme@gmail.com",url:"https://github.com/irongomme"},keywords:["clappr","plugin"],dependencies:{clappr:"latest"},devDependencies:{browserify:"^6.2.0",babelify:"5.0.3",gulp:"^3.8.6","gulp-minify-css":"^0.3.6","lodash.template":"3.0.0","gulp-rename":"^1.2.0","gulp-sass":"^0.7.2","compass-mixins":"0.12.3","vinyl-source-stream":"^1.0.0",yargs:"latest",glob:"^4.0.4",mkdirp:"^0.5.0",express:"^4.6.1","gulp-util":"latest","gulp-uglify":"^1.0.1","gulp-livereload":"^2.1.0","gulp-streamify":"0.0.5"}}},{}],19:[function(e,t){"use strict";var n=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function p(e,t,n){var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:p(a,t,n)}if("value"in r&&r.writable)return r.value;var o=r.get;return void 0===o?void 0:o.call(n)},a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=e("ui_core_plugin"),i=e(".././jst"),l=e("./styler"),c=e("../package.json").version,u=Clappr.Events,h=function(e){function t(e){o(this,t),this.core=e,this.channels=e.options.channels||[],this.channelsFullscreenOnly=e.options.channelsFullscreenOnly||!1,this.channelsPosterRefresh=e.options.channelsPosterRefresh||!1,this.keepVisible=!1,this.assignCurrentChannel(),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return a(t,e),n(t,{name:{get:function(){return"channels"}},template:{get:function(){return i.channels}},attributes:{get:function(){return{"class":"player-channels","data-channels":""}}},events:{get:function(){return{"click [data-channel-link]:not(.active)":"channelClicked"}}},bindEvents:{value:function(){this.listenTo(this.core.mediaControl,u.MEDIACONTROL_SHOW,this.show),this.listenTo(this.core.mediaControl,u.MEDIACONTROL_HIDE,this.hide)}},channelClicked:{value:function(e){var t=e.target.dataset;this.core.load(t.source),this.container=this.core.getCurrentContainer(),t.poster&&this.container.hasPlugin("poster")&&this.container.getPlugin("poster").load(t.poster),this.container.on(u.CONTAINER_READY,this.container.play),this.assignCurrentChannel(t.source),this.render()}},assignCurrentChannel:{value:function(e){var t=e||this.core.options.source;for(var n in this.channels)this.channels[n].current=this.channels[n].source==t}},isVisible:{value:function(){return!this.$el.hasClass("channels-hide")}},show:{value:function(){var e=this;if(!this.core.options.channelsFullscreenOnly||this.isFullscreen()){var t=2500;clearTimeout(this.hideId),this.$el.show(),this.$el.removeClass("channels-hide"),this.hideId=setTimeout(function(){return e.hide()},t)}}},hide:{value:function(){var e=this,t=2500;clearTimeout(this.hideId),this.isVisible()&&(this.keepVisible?this.hideId=setTimeout(function(){return e.hide()},t):this.$el.addClass("channels-hide"))}},isFullscreen:{value:function(){return document.webkitFullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||!!document.msFullscreenElement}},getPoster:{value:function(e){return e?e+"?t="+Math.floor(Date.now()/1e3):""}},render:{value:function(){var e=this,t=l.getStyleFor(this.name,{baseUrl:this.core.options.baseUrl});this.$el.html(this.template()),this.$el.append(t),this.core.$el.prepend(this.el),clearTimeout(this.posterRefreshId);for(var n in this.channels){var r=$('<a href="#" data-channel-link><span data-channel-title>'+this.channels[n].name+"</span></a>"),a=$("<li data-channel-choice></li>");r.attr("data-source",this.channels[n].source),r.attr("data-poster",this.channels[n].poster),this.channels[n].poster&&r.css({"background-image":"url("+this.getPoster(this.channels[n].poster)+")"}),this.channels[n].current&&r.addClass("active"),a.append(r),this.core.$el.find("[data-channels-list]").append(a),r.css({"font-size":Math.floor(.5*a.height())})}return this.channelsPosterRefresh&&(this.posterRefreshId=setInterval(function(){return e.refreshPosters()},this.channelsPosterRefresh)),this.hide(),this}},refreshPosters:{value:function(){var e=this.core.$el.find("[data-channel-link]"),t=this;e.each(function(n,r){$(r).css({"background-image":"url("+t.getPoster(e[n].dataset.poster)+")"})})}}},{version:{get:function(){return c}}}),t}(s);t.exports=window.Channels=h},{".././jst":2,"../package.json":18,"./styler":20,ui_core_plugin:"ui_core_plugin"}],20:[function(e,t){"use strict";var n=e("zepto"),r=e("lodash.template"),a=e(".././jst"),o={getStyleFor:function(e){var t=void 0===arguments[1]?{baseUrl:""}:arguments[1];return n('<style class="clappr-style"></style>').html(r(a.CSS[e])(t))}};t.exports=o},{".././jst":2,"lodash.template":3,zepto:"zepto"}]},{},[1]);